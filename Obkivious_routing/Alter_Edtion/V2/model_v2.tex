\documentclass{ctexart}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\usepackage{amsmath}

\begin{document}
\subsection{Main algorithm} 
\begin{algorithm}[H]
    \SetAlgoLined 
	\caption{main algorithm}% Name über Algorithm
	\KwIn{ Demand matrix DM }% Parameter
	\KwOut{ Routing $\phi_{best}$ (Fraction of demand)}% Output
	Initialization : \text{\itshape D} $ = \{\text{DM}\} $, DM$_{worst} = 0 $\; \tcp{ \text{\itshape D} is the set of demand matrix}
	\While{not meet the cutoff condition}{
		\text{\itshape D} = \text{\itshape D} $\cup$ DM$_{worst}$\;
		Find the best routing $\phi$ of \text{\itshape D}; \tcp{The First model}
		$\phi_{best} = \phi$\;	
		Find the worst demand matrix DM$_{worst}$ of $\phi_{best}$ \tcp{The second model}
	}

	return $\phi_{best}$
\end{algorithm}


\subsection{Original model in the paper} 
\begin{equation}
	\begin{aligned}
		\min \alpha & \\
		& \phi \text{ is a PD routing}\\
		& \forall \text{ edges }e=(u,v) \\
		& \forall \text{ DMs D}\in \text{\sl D}\text{ with }OPTU(D)=r:\\
		& \sum_{(s,t)}\frac{d_{st}f_{st}(u)\phi_t(e)}{c(e)}\leq\alpha r
	\end{aligned}
\end{equation}

\begin{equation}
	OPTU(D)=\min_{\phi|\phi\text{ is a PD routing}} MxLU(\phi,D)
\end{equation}

\subsection{Model 1 : The first model}
\texttt{Find the best routing $\phi$ of the given set of demand matrix to minimize maximum link ultilization} 
\begin{equation}
	\begin{aligned}
		\min \alpha & \text{  (Minimize maximum link ultilization)}\\
		& \sum_{e=(v,u)\in E}\phi_{st}(e)-f_{st}^i(u)=\begin{cases}
			1 &\text{if } u=s \\
			-1 &\text{if } u=t \\
			0 &\text{others} 
		 \end{cases}\\
		& ,\forall (s,t)\in V\times V,1\leq i\leq|\textit{D}| , \forall u\in V & \text{(Flow conservation)}\\
		& \sum_{(s,t)}\frac{
			d_{st}^if_{st}^i(u)\phi_{st}(e)}{c(e)} \leq \alpha\ ,\ \forall e\in E,1\leq i\leq|\textit{D}| &  \text{(Link capacity constraint)} \\
		& 0\leq\phi_{st}(e)\leq1\ ,\forall e\in E\ & \text{(Decision variable constraint)}\\
		& 0\leq\alpha\leq1\ & \text{(Decision variable constraint)}
	\end{aligned}
\end{equation}

\subsection{Model 1 v2.1.0 : The first model Kommen Sie Einschränkung $\frac{\sum_{s\in V,s\not=t}d_{st}^i\phi_{st}(e)}{\sum_{s\in V,s\not=t}d_{st}^i}=\phi_t(e)$ dazu}
\texttt{Find the best routing $\phi$ of the given set of demand matrix to minimize maximum link ultilization} 
\begin{equation}
	\begin{aligned}
		\min \alpha & \text{  (Minimize maximum link ultilization)}\\
		& \sum_{e=(v,u)\in E}\phi_{st}(e)-f_{st}^i(u)=\begin{cases}
			1 &\text{if } u=s \\
			-1 &\text{if } u=t \\
			0 &\text{others} 
		 \end{cases}\\
		& ,\forall (s,t)\in V\times V,1\leq i\leq|\textit{D}| , \forall u\in V & \text{(Flow conservation)}\\
		& \sum_{(s,t)}\frac{
			d_{st}^if_{st}^i(u)\phi_{st}(e)}{c(e)} \leq \alpha\ ,\ \forall e\in E,1\leq i\leq|\textit{D}| &  \text{(Link capacity constraint)} \\
		& 0\leq\phi_{st}(e)\leq1\ ,\forall e\in E\ & \text{(Decision variable constraint)}\\
		& 0\leq\alpha\leq1\ & \text{(Decision variable constraint)} \\
		& \frac{\sum_{s\in V,s\not=t}d_{st}^i\phi_{st}(e)}{\sum_{s\in V,s\not=t}d_{st}^i}=\phi_t(e),\ \forall t\in V,1\leq i \leq |\textit{D}| & \text{(Decision variable constraint)}
	\end{aligned}
\end{equation}

\subsection{Model 1 v2.1.1 : The first model Versuchen Sie, $\phi_t(e)$ durch $\phi_{st}(e)$ zu ersetzen}
\texttt{Find the best routing $\phi$ of the given set of demand matrix to minimize maximum link ultilization} 
\begin{equation}
	\begin{aligned}
		\min \alpha & \text{  (Minimize maximum link ultilization)}\\
		& \sum_{e=(u,v)\in E}\sum_{(s,t)}d_{st}^if_{st}^i(v)\phi_{t}(e)-\sum_{(s,t)}d_{st}^if_{st}^i(u) & =\begin{cases}
			d_{st} &\text{if } u=s \\
			-\sum_{(s,t)}d_{st} &\text{if } u=t \\
			0 &\text{others} 
		 \end{cases}\\
		&, \forall (s,t)\in V\times V & \text{(Flow conservation)}\\
		& \sum_{(s,t)}\frac{
			d_{st}^if_{st}^i(u)\phi_{t}(e)}{c(e)} \leq \alpha\ ,\ \forall e\in E,1\leq i\leq|\textit{D}| &  \text{(Link capacity constraint)} \\
		& 0\leq\phi_{t}(e)\leq1\ ,\forall e\in E\ & \text{(Decision variable constraint)}\\
		& 0\leq\alpha\leq1\ & \text{(Decision variable constraint)} \\
	\end{aligned}
\end{equation}

\subsection{Model 2 : The second model}
\texttt{Find the worst demand matrix with given routing $\phi$  to maximize maximum link ultilization} 
\begin{equation}
	\begin{aligned}
		\max \rho & \text{  (Maximize minimum link ultilization)}\\
		& \sum_{e=(v,u)\in E}\phi_{st}(e)-f_{st}(u)=\begin{cases}
			1 &\text{if } u=s \\
			-1 &\text{if } u=t \\
			0 &\text{others} 
		 \end{cases},\forall s,t,u\in V & \text{(Flow conservation)}\\
		& \rho\leq\sum_{(s,t)}\frac{
			d_{st}f_{st}(u)\phi_{st}(e)}{c(e)} \leq 1\ &  \text{(Link capacity constraint)} \\
		& 0\leq\rho\leq1\ & \text{(Decision variable constraint)}
	\end{aligned}
\end{equation}

\subsection{Model 2 v2.1.0 : The second model Kommen Sie Einschränkung $\frac{\sum_{s\in V,s\not=t}d_{st}^i\phi_{st}(e)}{\sum_{s\in V,s\not=t}d_{st}^i}=\phi_t(e)$ dazu}
\texttt{Find the worst demand matrix with given routing $\phi$  to maximize maximum link ultilization} 
\begin{equation}
	\begin{aligned}
		\max \rho & \text{  (Maximize minimum link ultilization)}\\
		& \sum_{e=(v,u)\in E}\phi_{st}(e)-f_{st}(u)=\begin{cases}
			1 &\text{if } u=s \\
			-1 &\text{if } u=t \\
			0 &\text{others} 
		 \end{cases},\forall s,t,u\in V & \text{(Flow conservation)}\\
		& \rho\leq\sum_{(s,t)}\frac{
			d_{st}f_{st}(u)\phi_{st}(e)}{c(e)} \leq 1\ &  \text{(Link capacity constraint)} \\
		& 0\leq\rho\leq1\ & \text{(Decision variable constraint)}\\
		& \frac{\sum_{s\in V,s\not=t}d_{st}^i\phi_{st}(e)}{\sum_{s\in V,s\not=t}d_{st}^i}=\phi_t(e), \ \forall t\in V,1\leq i \leq |\textit{D}|, e\in E & \text{(Decision variable constraint)}
	\end{aligned}
\end{equation}

\subsection{Model 2 v2.1.1 : The second model Versuchen Sie, $\phi_t(e)$ durch $\phi_{st}(e)$ zu ersetzen}
\texttt{Find the worst demand matrix with given routing $\phi$  to maximize maximum link ultilization} 
\begin{equation}
	\begin{aligned}
		\max \rho & \text{  (Maximize minimum link ultilization)}\\
		& \sum_{e=(u,v)\in E}\sum_{(s,t)}d_{st}^if_{st}^i(v)\phi_{t}(e)-\sum_{(s,t)}d_{st}^if_{st}^i(u) & =\begin{cases}
			d_{st} &\text{if } u=s \\
			-\sum_{(s,t)}d_{st} &\text{if } u=t \\
			0 &\text{others} 
		 \end{cases}\\
		&, \forall (s,t)\in V\times V,s\not = t& \text{(Flow conservation)}\\
		& \rho\leq\sum_{(s,t)}\frac{
			d_{st}f_{st}(u)\phi_{t}(e)}{c(e)} \leq 1\ &  \text{(Link capacity constraint)} \\
		& 0\leq\rho\leq1& \text{(Decision variable constraint)}
	\end{aligned}
\end{equation}

\end{document}